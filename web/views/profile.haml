!!!
%html{:lang => "en"}
  %head
    %title Event Planner
    %link{:href => "../assets/css/bootstrap.css", :rel => "stylesheet"}
    /%link{:href => "../assets/css/bootstrap3.css", :rel => "stylesheet"}
    %link{:href => "../assets/css/bootstrap-timepicker.css", :rel => "stylesheet"}
    %link{:href => "../assets/css/datepicker.css", :rel => "stylesheet"}
    %script{:src => "../assets/js/jquery.min.js"}
    %script{:src => "../assets/js/jquery.wheelmenu.js", :type => "text/javascript"}
    %link{:href => "../assets/css/style.css", :rel => "stylesheet", :type => "text/css"}
    %link{:href => "../assets/css/navbar-fixed-top.css", :rel => "stylesheet"}
  %body
    .navbar.navbar-default.navbar-fixed-top{:role => "navigation"}
      .container
        .navbar-header
          %button.navbar-toggle{"data-target" => ".navbar-collapse" , :type => "button" ,  "data-toggle" => "collapse" }
            %span.sr-only Toggle navigation
            %span.icon-bar
            %span.icon-bar
            %span.icon-bar
          %a.navbar-brand{:href => "#"}
            %b FLOCKERS
        .navbar-collapse.collapse
          %ul.nav.navbar-nav
            %li
              %a{:href => "#" , :"data-bind" => "click : showMyEvents"}My Events
            %li
              %a{:href => "#",:"data-bind" => "click : showParticipationEvents"}Participated Events
            %li
              %input{:placeholder => 'Search by Event Name',:type =>"text",:"data-bind" => "value: event().ename"}
            %li
              %button.btn-primary{:"data-bind" => "click : searchEvent"}Search
          %ul.nav.navbar-nav.navbar-right
            %li
              %button.btn.btn-danger{:"data-bind" => "click : signOut"} Sign Out


    .container
      .row
        .span4
          %input.hide{:id =>"current_user", :value => "#{@user}"}
          %input.hide{:id =>"current_user_id", :value => "#{@userid}"}
        %p.alert.alert-info{:"data-bind" => "visible: message, text: message"}


      .row
        .span12
          .main
            %a.wheel-button{:href => "#wheel"} I would you like to 
            .pointer
            %ul#wheel.wheel{:'data-bind' => 'foreach : category'}
              %li.item
                %a{:'data-bind' => 'text : $data,click : function() { $root.getActivities($data);}'}
      .row
        .span3
         
        %div.span6.panel.panel-danger{:'data-bind' => 'visible : activities().length'}
          %div.panel-heading
            %h4{:style => "text-align:center",:'data-bind' => 'text : selectedCategory'}
          %div.panel-body{:style => "padding : 0px;",:'data-bind'=>'foreach:activities',:style =>"list-style-type : none;"}
            
            %button.btn-danger.btn.btn-large{:style => "width : 100%;",:'data-bind'=>"click : function(){$root.searchEventByActivity($data);},text:$data"} 
      .row
        .span3  
        .span7.panel.panel-info{:'data-bind' => 'visible : searchedEvents().length'}
          %div.panel-heading
            %h4{:'data-bind' => 'text : selectedActivity'}
          %div.panel-body{:"data-bind"=>"foreach:searchedEvents"}

            .span3.panel.panel-info
            
              %div.panel-body
              
                %table{:border => "0"}
                  %tr
                    %th Name
                    %td{:"data-bind" => "text : ename()"}
                  %tr
                    %th Date
                    %td{:"data-bind" => "text : date()"}
                  %tr
                    %th Fees
                    %td{:"data-bind" => "text : fees()"}
                  %tr
                    %th Prize
                    %td{:"data-bind" => "text : prize()"}
                  %tr
                    %th Place
                    %td{:"data-bind" => "text : place()"}
                  %tr
                    %th Time
                    %td{:"data-bind" => "text : time()"}
                  %tr
                    %th Description
                  
                    %td{:"data-bind" => "text : ':  '+ description()"}
                  %tr
                    %th
                    %td{:align => "right"}
                      %button.btn.btn-primary{:'data-bind' =>'click : function() { $root.participate(id());}'}Participate
              
      %div
        .row
          .span12
            %button#CreateEvent.btn-success.btn-large{"data-target" => "#createEventModal", "data-toggle" => "modal" , :"data-bind" => "click : createEvent , visible : createEventFlag"} Create Event
          .well{:'data-bind' => "visible : myEvents().length"}
            %table.table.table-striped{:border => '0'}
              %tr
                %th Name
                %th Date
                %th Fees
                %th Prize
                %th Place
                %th Time
                %th Description
                %th Delete
            %table.table.table-striped{:"data-bind"=>"foreach:myEvents",:border => '0'}
              %tr
                %td{:"data-bind" => "text : ename()"}
                %td{:"data-bind" => "text : date()"}
                %td{:"data-bind" => "text : fees()"}
                %td{:"data-bind" => "text : prize()"}
                %td{:"data-bind" => "text : place()"}
                %td{:"data-bind" => "text : time()"}
                %td{:"data-bind" => "text : description()"}
                %td
                  %button.btn-primary{:"data-bind" => "click : DeleteEvent"}Delete Me


          .well{:'data-bind' => "visible : participationEvents().length>0"}
            %table.table.table-striped{:border => '0'}
              %tr
                %th Name
                %th Date
                %th Fees
                %th Prize
                %th Place
                %th Time
                %th Description
                %th Delete
            %table.table.table-striped{:"data-bind"=>"foreach:participationEvents",:border => '0'}
              %tr
                %td{:"data-bind" => "text : ename()"}
                %td{:"data-bind" => "text : date()"}
                %td{:"data-bind" => "text : fees()"}
                %td{:"data-bind" => "text : prize()"}
                %td{:"data-bind" => "text : place()"}
                %td{:"data-bind" => "text : time()"}
                %td{:"data-bind" => "text : description()"}
                %td
                  %button.btn-primary{:"data-bind" => "click : deleteParticipateEvent"}Delete Me

      #createEventModal.modal.fade.hide
        .modal-header
          %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", :type => "button"} &times;
          %h4.modal-title Create Event
        .modal-body
          %form                   
            %label Event Name
            %input{:placeholder => "Enter Event Name", :"data-bind" => "value: event().ename", :required => "", :type => "text"}
                      
            %label Date
            %input{:"data-bind" => "value: event().date", :required => "",:type => 'date', :placeholder => "Click to Pick"}  

            %label Time
            %input{:"data-bind" => "value: event().time", :required => "", :type => "text"}

            %label Fees
            %input{:"data-bind" => "value: event().fees", :type => "text"}

            %label Prize
            %input{:"data-bind" => "value: event().prize", :type => "text"}

            %label Place
            %input{:"data-bind" => "value: event().place", :required => "", :type => "text"}

            %label Description
            %textarea{:"data-bind" => "value: event().description"}
      
        .modal-footer
          %button.btn-large{:'data-dismiss' => "modal",:"data-bind" => "click : createEventHelper"} Create 
    %script{:src => "../assets/js/knockout-2.2.1.js"} 
    %script{:src => "../assets/js/bootstrap.min.js"}  
    %script{:src => "../assets/js/profile.js"}
